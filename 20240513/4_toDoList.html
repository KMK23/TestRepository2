<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    div {
      width: 300px;
      height: 600px;
      position: absolute;
      left: 200px;
      top: 100px;
      padding: 0 10px;
      border: 2px solid #c5c5c5;
      border-radius: 10px;
      overflow: auto;
    }
    p {
      /* background-color: yellow; */
      padding: 10px 5px;
      border-radius: 10px;
      text-align: center;
      /* overflow: scroll; */
    }
  </style>
  <body>
    <input id="input" placeholder="Add To do List" />
    <button onclick="addTodoList()">CLICK</button>
    <div>
      <!-- <p></p> -->
    </div>
  </body>
  <script>
    //1. input 창에 입력된 값을 가져와
    function addTodoList() {
      const text = document.querySelector(`#input`);
      const txValue = text.value;
      //2. p태그 생성 후 가져온 값을 넣어
      const pTag = document.createElement(`p`);
      pTag.innerHTML = txValue;
      //3. p태그의 배경 색상을 변경하고
      function chgBKcolor() {
        const colorArr = [];
        for (let i = 0; i < 3; i++) {
          const randNum = parseInt(Math.random() * 256);
          colorArr.push(randNum);
        }
        pTag.style.backgroundColor = `rgb(${colorArr.toString()})`;
      }

      //4. p태그를 div 태그 안에 추가해
      document.querySelector(`div`).append(pTag);
      chgBKcolor(pTag);
      //   text.value = ``;

      // 배경 색상에 따른 폰트 색상 변경
      //luma : #000000(검정색)일때 luma는 0, #ffffff(흰색)일때는 muma는 254.99이다
      //0에 가까울수록 어둡고, 255에 가까울수록 배경색은 밝은 색이다.

      // luma 155

      //   if (luma <= 155) {
      //     pTag.style.color = `white`;
      //   } else {
      //     pTag.style.color = `black`;
      //   }

      //삼황연산자
      const luma =
        0.2126 * colorArr[0] + 0.7152 * colorArr[1] + 0.0722 * color[2];
      pTag.style.color = luma <= 150 ? "white" : "black";
    }

    //5. 입력하고 input창 비우기
  </script>
</html>
